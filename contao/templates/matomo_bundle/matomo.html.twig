{% extends "@Contao/be_main" %}
{% trans_default_domain 'AnalyticsBundle' %}
{% block main_content %}
  <div class="space-y-8 bg-[#eaeaec] -m-px">

    <div class="space-y-8">
      <div class="px-4 sm:flex sm:items-center">
        <div class="sm:flex-auto">
          <h2 class="text-base font-semibold text-gray-900">{{ "insight.title" | trans }}</h2>
        </div>
        <div class="mt-4 sm:mt-0 sm:ml-16 sm:flex-none">
          <a href="{{ objContent.analytics_remote_url }}?module=CoreHome&action=index&idSite={{ objContent.analytics_remote_id }}&period=month&date=today" target="_blank" class="block rounded-md bg-sky-500 px-3 py-2 text-center text-sm font-semibold text-white! hover:bg-sky-400 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-500">{{ "insight.analytics_remote_url" | trans }}</a>
        </div>
      </div>
      <dl class="grid grid-cols-1 gap-5 sm:grid-cols-2 md:grid-cols-4">
        <div class="overflow-hidden rounded-lg bg-white px-4 py-5 shadow-sm sm:p-6">
          <dt class="truncate text-sm font-medium text-gray-500">{{ "insight.nb_uniq_visitors" | trans }}</dt>
          <dd class="mt-1 text-3xl font-semibold tracking-tight text-gray-900">{{ insight.nb_uniq_visitors }}</dd>
        </div>
        <div class="overflow-hidden rounded-lg bg-white px-4 py-5 shadow-sm sm:p-6">
          <dt class="truncate text-sm font-medium text-gray-500">{{ "insight.nb_actions" | trans }}</dt>
          <dd class="mt-1 text-3xl font-semibold tracking-tight text-gray-900">{{ insight.nb_actions }}</dd>
        </div>
        <div class="overflow-hidden rounded-lg bg-white px-4 py-5 shadow-sm sm:p-6">
          <dt class="truncate text-sm font-medium text-gray-500">{{ "insight.bounce_rate" | trans }}</dt>
          <dd class="mt-1 text-3xl font-semibold tracking-tight text-gray-900">{{ insight.bounce_rate }}</dd>
        </div>
        <div class="overflow-hidden rounded-lg bg-white px-4 py-5 shadow-sm sm:p-6">
          <dt class="truncate text-sm font-medium text-gray-500">{{ "insight.nb_pageviews" | trans }}</dt>
          <dd class="mt-1 text-3xl font-semibold tracking-tight text-gray-900">{{ insight.nb_pageviews }}</dd>
        </div>
      </dl>
    </div>

    <div class="grid grid-cols-1 gap-5 sm:grid-cols-2">

      <div class="px-4 space-y-8">
        <div class="">
          <div class="sm:flex sm:items-center">
            <div class="sm:flex-auto">
              <h3 class="text-base font-semibold text-gray-900">{{ "browser.title" | trans }}</h3>
              <p class="mt-2 text-sm text-gray-700">{{ "browser.txt" | trans }}</p>
            </div>
          </div>
          <div class="mt-1 flow-root">
            <div class="-mx-4 -my-2 overflow-x-auto ">
              <div class="inline-block min-w-full py-2 align-middle">
                <div class="overflow-hidden shadow-sm ring-1 ring-black/5 sm:rounded-lg">
                  <table class="min-w-full divide-y divide-gray-300">
                    <thead class="bg-gray-50">
                    <tr>
                      <th scope="col" class="py-3.5 pr-3 pl-4 text-left text-sm font-semibold text-gray-900 sm:pl-6">{{ "browser.label" | trans }}</th>
                      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">{{ "browser.nb_visits" | trans }}</th>
                      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">{{ "browser.nb_actions" | trans }}</th>
                      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">{{ "browser.bounce_count" | trans }}</th>
                      <th scope="col" class="pr-3.5 pr-3 pl-4 text-left text-sm font-semibold text-gray-900 sm:pr-6">{{ "browser.nb_visits_converted" | trans }}</th>
                    </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200 bg-white">
                    {% for browser in browsers %}
                      <tr class="even:bg-gray-50">
                        <td class="py-2 pr-3 pl-4 text-sm font-medium whitespace-nowrap text-gray-900 sm:pl-3">{{ browser.label ?? "N.C." }}</td>
                        <td class="px-3 py-2 text-sm whitespace-nowrap text-gray-500">{{ browser.nb_visits ?? "0" }}</td>
                        <td class="px-3 py-2 text-sm whitespace-nowrap text-gray-500">{{ browser.nb_actions ?? "0" }}</td>
                        <td class="px-3 py-2 text-sm whitespace-nowrap text-gray-500">{{ browser.bounce_count ?? "0" }}</td>
                        <td class="py-2 pr-4 pl-3 text-sm whitespace-nowrap text-gray-500">{{ browser.nb_visits_converted ?? "0" }}</td>
                      </tr>
                    {% endfor %}
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div>
          <div class="sm:flex sm:items-center">
            <div class="sm:flex-auto">
              <h3 class="text-base font-semibold text-gray-900">{{ "user_language.title" | trans }}</h3>
              <p class="mt-2 text-sm text-gray-700">{{ "user_language.txt" | trans }}</p>
            </div>
          </div>
          <div class="mt-1 flow-root">
            <div class="-mx-4 -my-2 overflow-x-auto ">
              <div class="inline-block min-w-full py-2 align-middle">
                <div class="overflow-hidden shadow-sm ring-1 ring-black/5 sm:rounded-lg">
                  <table class="min-w-full divide-y divide-gray-300">
                    <thead class="bg-gray-50">
                    <tr>
                      <th scope="col" class="py-3.5 pr-3 pl-4 text-left text-sm font-semibold text-gray-900 sm:pl-6">{{ "user_language.label" | trans }}</th>
                      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">{{ "user_language.nb_uniq_visitors" | trans }}</th>
                      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">{{ "user_language.nb_actions" | trans }}</th>
                      <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">{{ "user_language.bounce_count" | trans }}</th>
                      <th scope="col" class="pr-3.5 pr-3 pl-4 text-left text-sm font-semibold text-gray-900 sm:pr-6">{{ "user_language.nb_visits_converted" | trans }}</th>
                    </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200 bg-white">
                    {% for language in user_language %}
                      <tr class="even:bg-gray-50">
                        <td class="py-2 pr-3 pl-4 text-sm font-medium whitespace-nowrap text-gray-900 sm:pl-3">{{ language.label ?? "N.C." }}</td>
                        <td class="px-3 py-2 text-sm whitespace-nowrap text-gray-500">{{ language.nb_uniq_visitors ?? "0" }}</td>
                        <td class="px-3 py-2 text-sm whitespace-nowrap text-gray-500">{{ language.nb_actions ?? "0" }}</td>
                        <td class="px-3 py-2 text-sm whitespace-nowrap text-gray-500">{{ language.bounce_count ?? "0" }}</td>
                        <td class="py-2 pr-4 pl-3 text-sm whitespace-nowrap text-gray-500">{{ language.nb_visits_converted ?? "0" }}</td>
                      </tr>
                    {% endfor %}
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>


      <div class="space-y-8">
        <div class="">
          <div class="px-4 sm:px-6 lg:px-8">
            <h3 class="text-base font-semibold text-gray-900">{{ "insight.conversion.title" | trans }}</h3>
            <p class="mt-1 max-w-2xl text-sm/6 text-gray-500">{{ "insight.conversion.txt" | trans }}</p>
          </div>
          <div class="mt-3 overflow-hidden bg-white shadow-sm sm:rounded-lg">
            <dl class="divide-y divide-gray-100">
              <div class="px-2 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                <dt class="text-sm font-medium text-gray-900">{{ "insight.conversion.conversion_rate" | trans }}</dt>
                <dd class="mt-1 text-sm/6 text-gray-700 sm:col-span-2 sm:mt-0">{{ insight.conversion_rate }}</dd>
              </div>
              <div class="px-2 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                <dt class="text-sm font-medium text-gray-900">{{ "insight.conversion.conversion_rate_new_visit" | trans }}</dt>
                <dd class="mt-1 text-sm/6 text-gray-700 sm:col-span-2 sm:mt-0">{{ insight.conversion_rate_new_visit }}</dd>
              </div>
              <div class="px-2 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                <dt class="text-sm font-medium text-gray-900">{{ "insight.conversion.conversion_rate_returning_visit" | trans }}</dt>
                <dd class="mt-1 text-sm/6 text-gray-700 sm:col-span-2 sm:mt-0">{{ insight.conversion_rate_returning_visit }}</dd>
              </div>
            </dl>
          </div>
        </div>

        <div class="">
          <div class="px-4 sm:px-6 lg:px-8">
            <h3 class="text-base font-semibold text-gray-900">{{ "insight.referrers.title" | trans }}</h3>
            <p class="mt-1 max-w-2xl text-sm/6 text-gray-500">{{ "insight.referrers.txt" | trans }}</p>
          </div>
          <div class="mt-3 overflow-hidden bg-white shadow-sm sm:rounded-lg">
            <dl class="divide-y divide-gray-100">
              <div class="px-2 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                <dt class="text-sm font-medium text-gray-900">{{ "insight.referrers.Referrers_visitorsFromSearchEngines" | trans }}</dt>
                <dd class="mt-1 text-sm/6 text-gray-700 sm:col-span-2 sm:mt-0">{{ insight.Referrers_visitorsFromSearchEngines }}</dd>
              </div>
              <div class="px-2 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                <dt class="text-sm font-medium text-gray-900">{{ "insight.referrers.Referrers_visitorsFromDirectEntry" | trans }}</dt>
                <dd class="mt-1 text-sm/6 text-gray-700 sm:col-span-2 sm:mt-0">{{ insight.Referrers_visitorsFromDirectEntry }}</dd>
              </div>
              <div class="px-2 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                <dt class="text-sm font-medium text-gray-900">{{ "insight.referrers.Referrers_visitorsFromSocialNetworks" | trans }}</dt>
                <dd class="mt-1 text-sm/6 text-gray-700 sm:col-span-2 sm:mt-0">{{ insight.Referrers_visitorsFromSocialNetworks }}</dd>
              </div>
            </dl>
          </div>
        </div>

        <div class="">
          <div class="px-4 sm:px-6 lg:px-8">
            <h3 class="text-base font-semibold text-gray-900">{{ "insight.returning.title" | trans }}</h3>
            <p class="mt-1 max-w-2xl text-sm/6 text-gray-500">{{ "insight.returning.txt" | trans }}</p>
          </div>
          <div class="mt-3 overflow-hidden bg-white shadow-sm sm:rounded-lg">
            <dl class="divide-y divide-gray-100">
              <div class="px-2 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                <dt class="text-sm font-medium text-gray-900">{{ "insight.returning.nb_uniq_visitors_returning" | trans }}</dt>
                <dd class="mt-1 text-sm/6 text-gray-700 sm:col-span-2 sm:mt-0">{{ insight.nb_uniq_visitors_returning }}</dd>
              </div>
              <div class="px-2 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                <dt class="text-sm font-medium text-gray-900">{{ "insight.returning.bounce_rate_returning" | trans }}</dt>
                <dd class="mt-1 text-sm/6 text-gray-700 sm:col-span-2 sm:mt-0">{{ insight.bounce_rate_returning }}</dd>
              </div>
              <div class="px-2 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                <dt class="text-sm font-medium text-gray-900">{{ "insight.returning.nb_actions_per_visit_returning" | trans }}</dt>
                <dd class="mt-1 text-sm/6 text-gray-700 sm:col-span-2 sm:mt-0">{{ insight.nb_actions_per_visit_returning }}</dd>
              </div>
            </dl>
          </div>
        </div>

        <div class="">
          <div class="px-4 sm:px-6 lg:px-8">
            <h3 class="text-base font-semibold text-gray-900">{{ "insight.other.title" | trans }}</h3>
            <p class="mt-1 max-w-2xl text-sm/6 text-gray-500">{{ "insight.other.txt" | trans }}</p>
          </div>
          <div class="mt-3 overflow-hidden bg-white shadow-sm sm:rounded-lg">
            <dl class="divide-y divide-gray-100">
              <div class="px-2 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                <dt class="text-sm font-medium text-gray-900">{{ "insight.nb_downloads" | trans }}</dt>
                <dd class="mt-1 text-sm/6 text-gray-700 sm:col-span-2 sm:mt-0">{{ insight.nb_downloads }}</dd>
              </div>
              <div class="px-2 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                <dt class="text-sm font-medium text-gray-900">{{ "insight.nb_searches" | trans }}</dt>
                <dd class="mt-1 text-sm/6 text-gray-700 sm:col-span-2 sm:mt-0">{{ insight.nb_searches }}</dd>
              </div>
              <div class="px-2 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                <dt class="text-sm font-medium text-gray-900">{{ "insight.avg_time_dom_completion" | trans }}</dt>
                <dd class="mt-1 text-sm/6 text-gray-700 sm:col-span-2 sm:mt-0">{{ insight.avg_time_dom_completion }}</dd>
              </div>
            </dl>
          </div>
        </div>
      </div>
    </div>
  </div>

{% endblock %}